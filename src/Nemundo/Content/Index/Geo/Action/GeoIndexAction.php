<?phpnamespace Nemundo\Content\Index\Geo\Action;use Nemundo\Content\Action\AbstractAction;use Nemundo\Content\Index\Geo\Data\GeoIndex\GeoIndex;use Nemundo\Content\Index\Geo\Data\GeoIndex\GeoIndexDelete;use Nemundo\Content\Index\Geo\Type\GeoIndexTrait;use Nemundo\Content\Type\AbstractContentType;class GeoIndexAction extends AbstractAction{    /**     * @var GeoIndexTrait|AbstractContentType     */    protected $content;    protected function loadAction()    {        $this->actionLabel = 'Geo Index';        $this->actionId = '86220f81-639a-4b2d-8a0a-a22283ff0ca6';        $this->viewClass=GeoIndexView::class;        //$this->actionBuilder = true;    }    /**     * @param AbstractContentType|GeoIndexTrait $content     * @return $this|void     */    public function onAction(AbstractContentType $content)    {        if ($content->isObjectOfTrait(GeoIndexTrait::class)) {            $data = new GeoIndex();            $data->updateOnDuplicate = true;            $data->place = $content->getSubject();            $data->coordinate = $content->getCoordinate();            $data->contentId = $content->getContentId();            $data->description = $content->getText();            $data->imageUrl = $content->getImageUrl();            $data->save();        }        return $this;    }    public function deleteAction(AbstractContentType $content)    {        //(new Debug())->write($content->getContentId());        $delete = new GeoIndexDelete();        $delete->filter->andEqual($delete->model->contentId, $content->getContentId());        $delete->delete();    }}