<?phpnamespace Nemundo\Content\App\Feed\Page;use Nemundo\Admin\Com\Form\AdminSearchForm;use Nemundo\Admin\Com\Image\AdminImage;use Nemundo\Admin\Com\Item\AdminItemContainer;use Nemundo\Admin\Com\Item\AdminItemSmall;use Nemundo\Admin\Com\Item\AdminItemText;use Nemundo\Admin\Com\Item\AdminItemTitle;use Nemundo\Admin\Com\Item\AdminItemUrlHyperlink;use Nemundo\Admin\Com\Pagination\AdminPagination;use Nemundo\Content\App\Feed\Com\ListBox\FeedListBox;use Nemundo\Content\App\Feed\Data\FeedItem\FeedItemPaginationReader;use Nemundo\Content\App\Feed\Template\FeedTemplate;use Nemundo\Db\Sql\Order\SortOrder;class FeedPage extends FeedTemplate{    public function getContent()    {        // Article        // NewsIndex        $form = new AdminSearchForm($this);        $feed = new FeedListBox($form);        $feed->searchMode = true;        $feed->submitOnChange = true;        $container = new AdminItemContainer($this);        $itemReader = new FeedItemPaginationReader();        $itemReader->model->loadFeed();        if ($feed->hasValue()) {            $itemReader->filter->andEqual($itemReader->model->feedId, $feed->getValue());        }        $itemReader->addOrder($itemReader->model->dateTime, SortOrder::DESCENDING);        $itemReader->paginationLimit = 50;        /*        $header = new AdminTableHeader($table);        $header->addText($itemReader->model->title->label);        $header->addText($itemReader->model->description->label);        $header->addText($itemReader->model->dateTime->label);        $header->addText('Source');*/        foreach ($itemReader->getData() as $itemRow) {            //$container=new AdminItemContainer($this);            $hyperlink = new AdminItemUrlHyperlink($container);            //$hyperlink->addCssClass('admin-item-hyperlink');            $hyperlink->openNewWindow = true;            $hyperlink->url = $itemRow->url;            $small = new AdminItemSmall($hyperlink);            $small->content = $itemRow->dateTime->getShortDateTimeLeadingZeroFormat();            $title = new AdminItemTitle($hyperlink);            $title->content = $itemRow->title;            if ($itemRow->hasImage) {                $image = new AdminImage($hyperlink);                $image->src = $itemRow->imageUrl;            }            $text = new AdminItemText($hyperlink);            $text->content = $itemRow->description;            $small = new AdminItemSmall($hyperlink);            $small->content = $itemRow->feed->title;            /*            $row = new BootstrapClickableTableRow($table);            $row->addText($itemRow->title);            $row->addText($itemRow->description);            $row->addText($itemRow->dateTime->getShortDateTimeLeadingZeroFormat());            $row->addText($itemRow->feed->title);            $contentType = new FeedItemContentType($itemRow->id);            $row->addClickableSite($contentType->getViewSite());*/        }        $pagination = new AdminPagination($this);        $pagination->paginationReader = $itemReader;        /*        $pagination = new BootstrapPagination($this);        $pagination->paginationReader = $itemReader;*/        /*        $feedParameter = new FeedParameter();        $layout = new BootstrapTwoColumnLayout($this);        $layout->col1->columnWidth = 2;        $layout->col2->columnWidth = 10;        $listing = new BootstrapSiteListGroup($layout->col1);        $reader = new FeedReader();        foreach ($reader->getData() as $feedRow) {            if ($feedParameter->getValue() == $feedRow->id) {                $listing->addActiveText($feedRow->title);            } else {                $site = clone(FeedSite::$site);                $site->title = $feedRow->title;                $site->addParameter(new FeedParameter($feedRow->id));                $listing->addSite($site);            }        }        $table = new AdminClickableTable($layout->col2);        $itemReader = new FeedItemPaginationReader();        $itemReader->model->loadFeed();        if ($feedParameter->hasValue()) {            $itemReader->filter->andEqual($itemReader->model->feedId, $feedParameter->getValue());        }        $itemReader->addOrder($itemReader->model->dateTime, SortOrder::DESCENDING);        //$itemReader->paginationLimit = ProcessConfig::PAGINATION_LIMIT;        $header = new AdminTableHeader($table);        $header->addText($itemReader->model->title->label);        $header->addText($itemReader->model->description->label);        $header->addText($itemReader->model->dateTime->label);        $header->addText('Source');        foreach ($itemReader->getData() as $itemRow) {            $row = new BootstrapClickableTableRow($table);            $row->addText($itemRow->title);            $row->addText($itemRow->description);            $row->addText($itemRow->dateTime->getShortDateTimeLeadingZeroFormat());            $row->addText($itemRow->feed->title);            $contentType = new FeedItemContentType($itemRow->id);            $row->addClickableSite($contentType->getViewSite());        }        $pagination = new BootstrapPagination($this);        $pagination->paginationReader = $itemReader;*/        return parent::getContent();    }}