<?phpnamespace Nemundo\Content\Type\Index;use Nemundo\Content\Action\AbstractAction;use Nemundo\Content\Data\Content\Content;use Nemundo\Content\Data\Content\ContentCount;use Nemundo\Content\Data\Content\ContentDelete;use Nemundo\Content\Type\AbstractContentType;class ContentIndexAction extends AbstractAction{    protected function loadAction()    {        $this->actionBuilder = true;    }    public function onAction(AbstractContentType $content)    {        /*$count = new ContentCount();        $count->filter->andEqual($count->model->contentTypeId, $content->typeId);        $count->filter->andEqual($count->model->dataId, $content->getDataId());        if ($count->getCount() == 0) {            $data = new Content();            $data->contentTypeId = $content->typeId;            $data->dataId = $content->getDataId();            $data->subject = $content->getSubject();            $data->save();        }*/        $data = new Content();        $data->updateOnDuplicate=true;        $data->contentTypeId = $content->typeId;        $data->dataId = $content->getDataId();        $data->subject = $content->getSubject();        $data->save();        return $this;    }    public function deleteAction(AbstractContentType $content)    {        (new ContentDelete())->deleteById($content->getContentId());    }}