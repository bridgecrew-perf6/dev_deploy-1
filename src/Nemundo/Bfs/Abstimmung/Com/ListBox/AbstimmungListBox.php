<?phpnamespace Nemundo\Bfs\Abstimmung\Com\ListBox;use Nemundo\Bfs\Abstimmung\Data\Abstimmung\AbstimmungReader;use Nemundo\Bfs\Abstimmung\Parameter\AbstimmungParameter;use Nemundo\Package\Bootstrap\FormElement\BootstrapListBox;class AbstimmungListBox extends BootstrapListBox{    /**     * @var bool     */    public $filterByDatum = false;    public $datumId;    /**     * @var bool     */    public $filterByJahr = false;    public $jahr;    protected function loadContainer()    {        parent::loadContainer();        $this->name = (new AbstimmungParameter())->getParameterName();    }    public function getContent()    {        $this->label = 'Abstimmung';        $reader = new AbstimmungReader();        if ($this->filterByDatum) {            $reader->filter->andEqual($reader->model->datumId, $this->datumId);        }        if ($this->filterByJahr) {            $reader->model->loadDatum();            $reader->filter->andEqual($reader->model->datum->jahr, $this->jahr);        }        $reader->addOrder($reader->model->abstimmung);        foreach ($reader->getData() as $abstimmungRow) {            $this->addItem($abstimmungRow->id, $abstimmungRow->abstimmung);        }        return parent::getContent();    }}