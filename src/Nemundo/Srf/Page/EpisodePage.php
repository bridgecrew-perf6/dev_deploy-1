<?phpnamespace Nemundo\Srf\Page;use Nemundo\Com\FormBuilder\SearchForm;use Nemundo\Com\Html\Hyperlink\SiteHyperlink;use Nemundo\Db\Sql\Order\SortOrder;use Nemundo\Html\Block\Hr;use Nemundo\Html\Heading\H3;use Nemundo\Html\Inline\Span;use Nemundo\Html\Paragraph\Paragraph;use Nemundo\Srf\Com\ListBox\ShowListBox;use Nemundo\Srf\Data\Episode\EpisodeReader;use Nemundo\Srf\Parameter\EpisodeParameter;use Nemundo\Srf\Site\SrfEpisodeItemSite;use Nemundo\Srf\Template\SrfTemplate;class EpisodePage extends SrfTemplate{    public function getContent()    {        //$episodeId = (new EpisodeParameter())->getValue();        $form = new SearchForm($this);        $show = new ShowListBox($form);        $show->submitOnChange = true;        $episodeReader = new EpisodeReader();        $episodeReader->model->loadShow();        if ($show->hasValue()) {            $episodeReader->filter->andEqual($episodeReader->model->showId, $show->getValue());        }        $episodeReader->addOrder($episodeReader->model->dateTime, SortOrder::DESCENDING);        foreach ($episodeReader->getData() as $episodeRow) {            $hyperlink = new SiteHyperlink($this);            $hyperlink->site = clone(SrfEpisodeItemSite::$site);            $hyperlink->site->addParameter(new EpisodeParameter($episodeRow->id));            $hyperlink->showSiteTitle = false;            $h3 = new H3($hyperlink);            $h3->content = $episodeRow->title;            $p = new Paragraph($this);            $p->content = $episodeRow->description;            $div = new Span($this);            $div->content = $episodeRow->dateTime->getShortDateTimeLeadingZeroFormat() . ' ' . $episodeRow->show->show;            new Hr($this);        }        //$episodeRow = $episodeReader->getRowById($episodeId);        /*        $title = new AdminTitle($this);        $title->content = $episodeRow->title;        $p = new Paragraph($this);        $p->content = $episodeRow->description;        $player = new SrfPlayer($this);        $player->urn = $episodeRow->urn;        $player->width = 800;        $player->height = 700;        $player->autoPlay = true;*/        return parent::getContent();    }}