<?phpnamespace Nemundo\Meteoschweiz\Import;use Nemundo\Core\Base\AbstractBase;use Nemundo\Core\Csv\Reader\CsvReader;use Nemundo\Core\WebRequest\WebRequest;use Nemundo\Meteoschweiz\Content\Station\StationContentType;use Nemundo\Meteoschweiz\Data\MesswertStation\MesswertStationId;use Nemundo\Meteoschweiz\Path\MeteoschweizTmpPath;class StationImport extends AbstractBase{    public function importStation()    {        $url = 'https://data.geo.admin.ch/ch.meteoschweiz.messnetz-automatisch/ch.meteoschweiz.messnetz-automatisch_de.csv';        $filename = (new MeteoschweizTmpPath())            ->addPath('ch.meteoschweiz.messnetz-automatisch_de.csv')            ->getFilename();        (new WebRequest())            ->downloadUrl($url, $filename);        $reader = new CsvReader();        $reader->filename = $filename;        $reader->utf8Encode = true;        $importData = true;        foreach ($reader->getData() as $row) {            $station = $row->getValue('Station');            if (($importData) && ($station == '')) {                $importData = false;            }            if ($importData) {                $id = new MesswertStationId();                $id->filter->andEqual($id->model->stationCode, $row->getValue('Abk.'));                $stationId = $id->getId();                $type = new StationContentType($stationId);                $type->stationCode = $row->getValue('Abk.');                $type->station = $station;                $type->geoCoordinate->latitude = $row->getValue('Breitengrad');                $type->geoCoordinate->longitude = $row->getValue('Längengrad');                $type->geoCoordinate->altitude = $row->getValue('Stationshöhe m. ü. M.');                $type->saveType();            }        }    }}