<?phpnamespace Nemundo\Meteoschweiz\Com\Chart\Difference;use Nemundo\Com\Chart\Data\LineChartData;use Nemundo\Meteoschweiz\Data\Messwert\MesswertRow;use Nemundo\Meteoschweiz\Data\MesswertStation\MesswertStationReader;class QnhDifferenceChart extends AbstractDifferenceChart{    private $n = 0;    private $qnh1 = [];    private $altitudeDifference;    /**     * @var LineChartData     */    private $data;    public function getContent()    {        $this->data=new LineChartData($this);        //$station1Row = (new MesswertStationReader())->getRowById($this->station1Id);        //$station2Row = (new MesswertStationReader())->getRowById($this->station2Id);        //$this->altitudeDifference = $station2Row->geoCoordinate->altitude - $station1Row->geoCoordinate->altitude;        //$this->chartTitle = 'Qnh Difference';  // (pro 100m) ' . $station1Row->station . ' - ' . $station2Row->station . ' (' . $this->altitudeDifference . ' m)';        return parent::getContent();    }    protected function onDataRow1(MesswertRow $messwertRow)    {        if ($messwertRow->hasQnh) {            $this->qnh1[] = $messwertRow->qnh;        } else {            $this->qnh1[] = null;        }    }    protected function onDataRow2(MesswertRow $messwertRow)    {        if ($messwertRow->hasQnh) {            if ($this->qnh1[$this->n] !== null) {                //$qnh2[] = $messwertRow->qnh;                //$this->data->addValue(1);  // $this->qnh1[$this->n] - $messwertRow->qnh);   //temperature) / ($this->altitudeDifference / 100));                $this->data->addValue($this->qnh1[$this->n] - $messwertRow->qnh);   //temperature) / ($this->altitudeDifference / 100));                $this->addXAxisLabel($messwertRow->dateTime->dateTime->getShortDateTimeLeadingZeroFormat());            }        }        $this->n++;    }}