<?phpnamespace Nemundo\Meteoschweiz\Content\Station\View;use Nemundo\Admin\Com\Table\AdminLabelValueTable;use Nemundo\Content\View\AbstractContentView;use Nemundo\Db\Sql\Order\SortOrder;use Nemundo\Html\Paragraph\Paragraph;use Nemundo\Meteo\Base\Com\WindArrow;use Nemundo\Meteoschweiz\Content\Station\StationContentType;use Nemundo\Meteoschweiz\Data\Messwert\MesswertReader;use Nemundo\Meteoschweiz\Data\MesswertDateTime\MesswertDateTimeReader;class WindStationContentView extends AbstractStationContentView{    protected function loadView()    {        $this->viewName='Wind';        $this->viewId='be3d6341-a3ed-41a9-b583-3f9e3f1a8658';    }    public function getContent()    {        $stationRow = $this->contentType->getDataRow();        $messwertReader = new MesswertDateTimeReader();        $messwertReader->addOrder($messwertReader->model->id, SortOrder::DESCENDING);        $messwertReader->limit = 1;        foreach ($messwertReader->getData() as $messwertDateTimeRow) {            $p = new Paragraph($this);            $p->content = 'Messwert von ' . $messwertDateTimeRow->dateTime->getShortDateTimeLeadingZeroFormat() . ' UTC';            $messwertReader = new MesswertReader();            $messwertReader->filter->andEqual($messwertReader->model->stationId, $stationRow->id);            $messwertReader->filter->andEqual($messwertReader->model->dateTimeId, $messwertDateTimeRow->id);            $messwertReader->model->loadStation();            foreach ($messwertReader->getData() as $messwertRow) {                $windpfeil=new WindArrow($this);                $windpfeil->degree = $messwertRow->windDirection;                $table = new AdminLabelValueTable($this);                $table->addLabelValue($messwertReader->model->wind->label, $messwertRow->getWindText());            }        }        return parent::getContent();    }}