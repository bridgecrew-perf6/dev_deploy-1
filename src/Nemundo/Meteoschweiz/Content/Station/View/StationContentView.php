<?phpnamespace Nemundo\Meteoschweiz\Content\Station\View;use Nemundo\Admin\Com\Table\AdminLabelValueTable;use Nemundo\Db\Sql\Order\SortOrder;use Nemundo\Html\Paragraph\Paragraph;use Nemundo\Meteo\Base\Com\WindArrow;use Nemundo\Meteoschweiz\Data\Messwert\MesswertReader;use Nemundo\Meteoschweiz\Data\MesswertDateTime\MesswertDateTimeReader;class StationContentView extends AbstractStationContentView{    protected function loadView()    {        $this->viewName = 'Messwert';        $this->viewId = 'cdafb1ca-3c78-4ef9-9a71-2e1f79d4115f';        $this->defaultView = true;    }    public function getContent()    {        $stationRow = $this->contentType->getDataRow();        $messwertReader = new MesswertDateTimeReader();        $messwertReader->addOrder($messwertReader->model->id, SortOrder::DESCENDING);        $messwertReader->limit = 1;        foreach ($messwertReader->getData() as $messwertDateTimeRow) {            $p = new Paragraph($this);            $p->content = 'Messwert von ' . $messwertDateTimeRow->dateTime->getShortDateTimeLeadingZeroFormat() . ' UTC';            $messwertReader = new MesswertReader();            $messwertReader->filter->andEqual($messwertReader->model->stationId, $stationRow->id);            $messwertReader->filter->andEqual($messwertReader->model->dateTimeId, $messwertDateTimeRow->id);            $messwertReader->model->loadStation();            $table = new AdminLabelValueTable($this);            foreach ($messwertReader->getData() as $messwertRow) {                $table->addLabelValue($messwertReader->model->station->label, $stationRow->station);                $table->addLabelValue($messwertReader->model->station->geoCoordinate->altitude->label, $stationRow->geoCoordinate->altitude . ' m.Ã¼.M');                $table->addLabelValue($messwertReader->model->temperature->label, $messwertRow->getTemperatureText());                $table->addLabelValue($messwertReader->model->dewPoint->label, $messwertRow->getDewPointText());                $table->addLabelValue($messwertReader->model->qnh->label, $messwertRow->getPressureText());                $windpfeil = new WindArrow();                $windpfeil->degree = $messwertRow->windDirection;                $table->addLabelCom($messwertRow->model->windDirection->label, $windpfeil);                $table->addLabelValue($messwertReader->model->wind->label, $messwertRow->getWindText());                $table->addLabelValue($messwertReader->model->humidity->label, $messwertRow->getHumidityText());                $table->addLabelValue($messwertReader->model->precipitation->label, $messwertRow->getPrecipitationText());                $table->addLabelValue($messwertReader->model->sunshine->label, $messwertRow->getSunshineText());            }        }        return parent::getContent();    }}