<?phpnamespace Nemundo\Meteo\Meteocentrale\Content\Bisendiagramm;use Nemundo\Content\Form\ContentForm;use Nemundo\Content\Index\Search\Type\SearchIndexTrait;use Nemundo\Content\Type\AbstractContentType;use Nemundo\Content\Type\AbstractSearchContentType;use Nemundo\Db\Sql\Order\SortOrder;use Nemundo\Meteo\Meteocentrale\Data\Bisendiagramm\BisendiagrammReader;use Nemundo\Meteo\Meteocentrale\Data\Bisendiagramm\BisendiagrammRow;use Nemundo\Package\Bootstrap\Image\BootstrapResponsiveImage;use Nemundo\Package\Bootstrap\Layout\Grid\BootstrapRow;class BisendiagrammContentType extends AbstractSearchContentType{    //use SearchIndexTrait;    protected function loadContentType()    {        $this->typeLabel = 'Bisendiagramm';        $this->typeId = 'bf03c313-5292-47eb-82bc-278a65b96881';        $this->formClassList[] = ContentForm::class;        $this->viewClassList[] = BisendiagrammContentView::class;        $this->dataId = 0;    }    protected function onIndex()    {        $this->addSearchText($this->typeLabel);        //$this->saveSearchIndex();    }    protected function onDataRow()    {        $bisendiagrammReader = new BisendiagrammReader();        //$bisendiagrammReader->addOrder($bisendiagrammReader->model->dateTime, SortOrder::DESCENDING);        $bisendiagrammReader->addOrder($bisendiagrammReader->model->id, SortOrder::DESCENDING);        $bisendiagrammReader->limit = 1;        foreach ($bisendiagrammReader->getData() as $bisendiagrammRow) {            $this->dataRow = $bisendiagrammRow;        }    }    /**     * @return \Nemundo\Model\Row\AbstractModelDataRow|BisendiagrammRow     */    public function getDataRow()    {        return parent::getDataRow();    }    public function getData()    {        $data=[];        $data['image_url']=$this->getDataRow()->bisendiagramm->getUrl();        return $data;    }}