<?phpnamespace Nemundo\Meteo\Sat24\Content\LatestSat24;use Nemundo\Content\Type\AbstractContentType;use Nemundo\Meteo\Sat24\Data\LatestContent\LatestContent;use Nemundo\Meteo\Sat24\Data\LatestContent\LatestContentReader;use Nemundo\Meteo\Sat24\Data\LatestContent\LatestContentRow;use Nemundo\Meteo\Sat24\Data\LatestContent\LatestContentUpdate;class LatestSat24ContentType extends AbstractContentType{    public $continentId;    public $imageTypeId;    protected function loadContentType()    {        $this->typeLabel = 'Sat24 (Latest Image)';        $this->typeId = '24f44f30-92e6-441e-8b28-539f7470a3c6';        $this->formClassList[] = LatestSat24ContentForm::class;        $this->viewClassList[]  = LatestSat24ContentView::class;        $this->allowChild = false;    }    protected function onCreate()    {        $data = new LatestContent();        $data->continentId = $this->continentId;        $data->imageTypeId = $this->imageTypeId;        $this->dataId = $data->save();    }    protected function onUpdate()    {        $update = new LatestContentUpdate();        $update->continentId = $this->continentId;        $update->imageTypeId = $this->imageTypeId;        $update->updateById($this->dataId);    }    protected function onDataRow()    {        $reader = new LatestContentReader();        $reader->model->loadContinent();        $reader->model->loadImageType();        $this->dataRow = $reader->getRowById($this->dataId);    }    /**     * @return \Nemundo\Model\Row\AbstractModelDataRow|LatestContentRow     */    public function getDataRow()    {        return parent::getDataRow();    }    public function getSubject()    {        $subject = $this->getDataRow()->continent->continent . ' ' . $this->getDataRow()->imageType->imageType;        return $subject;    }}