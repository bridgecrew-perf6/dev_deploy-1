<?phpnamespace Nemundo\Meteo\Zamg\Job;use Nemundo\Content\App\Job\Content\AbstractJobContentType;use Nemundo\Core\Type\DateTime\Date;use Nemundo\Meteo\Zamg\Data\WetterkarteJob\WetterkarteJob;use Nemundo\Meteo\Zamg\Data\WetterkarteJob\WetterkarteJobReader;use Nemundo\Meteo\Zamg\Data\WetterkarteJob\WetterkarteJobRow;use Nemundo\Meteo\Zamg\Import\WetterkarteImport;class WetterkarteImportJob extends AbstractJobContentType{    /**     * @var Date     */    public $dateFrom;    /**     * @var Date     */    public $dateTo;    protected function loadContentType()    {        $this->typeLabel = 'Wetterkarte Import Job';        $this->typeId = '56365055-a7c6-45df-9d7f-85c6b17a8dac';        $this->formClassList[] = WetterkarteImportForm::class;    }    protected function onCreate()    {        $data = new WetterkarteJob();        $data->dateFrom = $this->dateFrom;        $data->dateTo = $this->dateTo;        $this->dataId = $data->save();    }    protected function onDataRow()    {        $this->dataRow = (new WetterkarteJobReader())->getRowById($this->dataId);    }    /**     * @return \Nemundo\Model\Row\AbstractModelDataRow|WetterkarteJobRow     */    public function getDataRow()    {        return parent::getDataRow();    }    public function getSubject()    {        $subject = 'Wetterkarte Import ' . $this->getDataRow()->dateFrom->getShortDateFormat() . ' bis ' . $this->getDataRow()->dateTo->getShortDateFormat();        return $subject;    }    public function run()    {        $import = new WetterkarteImport();        $import->dateFrom = $this->getDataRow()->dateFrom;        $import->dateTo = $this->getDataRow()->dateTo;        $import->importWetterkarte();    }}