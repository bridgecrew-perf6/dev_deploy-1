<?phpnamespace Nemundo\Meteo\Isd\Script;use Nemundo\App\Script\Type\AbstractConsoleScript;use Nemundo\Core\Console\ConsoleInput;use Nemundo\Core\Debug\Debug;use Nemundo\Core\Structure\ForLoop;use Nemundo\Meteo\Isd\Data\Station\StationReader;use Nemundo\Meteo\Isd\Import\MeasurementImport;class CountryDataImportScript extends AbstractConsoleScript{    protected function loadScript()    {        $this->scriptName = 'isd-country';    }    public function run()    {        //$year = 2019;        //$countryCode = 'IT';        $input = new ConsoleInput();        $input->message = 'Country Code';        $input->defaultValue = 'SZ';        $countryCode = $input->getValue();        $input = new ConsoleInput();        $input->message = 'Year Begin';        $input->defaultValue = '2019';        $yearBegin = $input->getValue();        $input = new ConsoleInput();        $input->message = 'Year End';        $input->defaultValue = '2020';        $yearEnd = $input->getValue();        $loop = new ForLoop();        $loop->minNumber = $yearBegin;        $loop->maxNumber = $yearEnd;        foreach ($loop->getData() as $year) {            //(new Debug())->write($countryCode);            $stationReader = new StationReader();            $stationReader->model->loadCountry();            $stationReader->filter->andEqual($stationReader->model->country->countryCode, $countryCode);            $stationReader->filter->andEqual($stationReader->model->active, true);            $stationReader->addOrder($stationReader->model->station);            foreach ($stationReader->getData() as $stationRow) {                (new Debug())->write($stationRow->station . ' (' . $stationRow->country->country . ') - ' . $year);                $download = new MeasurementImport();                $download->stationRow = $stationRow;                $download->year = $year;                $download->importData();            }        }    }}