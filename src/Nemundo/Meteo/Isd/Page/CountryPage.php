<?phpnamespace Nemundo\Meteo\Isd\Page;use Nemundo\Admin\Com\Table\AdminClickableTable;use Nemundo\Admin\Com\Title\AdminTitle;use Nemundo\Com\TableBuilder\TableHeader;use Nemundo\Meteo\Isd\Com\Form\CountryDownloadQueueForm;use Nemundo\Meteo\Isd\Data\Country\CountryReader;use Nemundo\Meteo\Isd\Parameter\CountryParameter;use Nemundo\Meteo\Isd\Site\CountrySite;use Nemundo\Meteo\Isd\Template\IsdTemplate;use Nemundo\Package\Bootstrap\Layout\BootstrapTwoColumnLayout;use Nemundo\Package\Bootstrap\Table\BootstrapClickableTableRow;class CountryPage extends IsdTemplate{    public function getContent()    {        $layout = new BootstrapTwoColumnLayout($this);        $table = new AdminClickableTable($layout->col1);        $countryReader = new CountryReader();        $countryReader->addOrder($countryReader->model->country);        $header = new TableHeader($table);        $header->addText($countryReader->model->country->label);        $header->addText($countryReader->model->countryCode->label);        foreach ($countryReader->getData() as $countryRow) {            $row = new BootstrapClickableTableRow($table);            $row->addText($countryRow->country);            $row->addText($countryRow->countryCode);            $site = clone(CountrySite::$site);            $site->addParameter(new CountryParameter($countryRow->id));            $row->addClickableSite($site);        }        $countryParameter = new CountryParameter();        if ($countryParameter->hasValue()) {            $countryRow = (new CountryReader())->getRowById($countryParameter->getValue());            $title = new AdminTitle($layout->col2);            $title->content = $countryRow->country;            $form = new CountryDownloadQueueForm($layout->col2);            $form->countryId = $countryParameter->getValue();        }        return parent::getContent();    }}