<?phpnamespace Nemundo\Meteo\Isd\Com\Chart\Hour;use Nemundo\Meteo\Isd\Com\Chart\AbstractStationChart;use Nemundo\Meteo\Isd\Data\Measurement\MeasurementReader;use Nemundo\Meteo\Isd\Data\Measurement\MeasurementRow;use Nemundo\Meteo\Isd\Data\Station\StationRow;abstract class AbstractStationHourChart extends AbstractStationChart{    abstract protected function onMeasurementRow(MeasurementRow $measurementDayRow);    public function addStationRow(StationRow $stationRow)    {        $this->stationRowList[] = $stationRow;        return $this;    }    public function getContent()    {        $n = 0;        foreach ($this->stationRowList as $stationRow) {            $this->onStationRow($stationRow);            $reader = new MeasurementReader();            $reader->filter->andEqual($reader->model->stationId, $stationRow->id);            if ($this->dateFrom !== null) {                $reader->filter->andEqualOrGreater($reader->model->date, $this->dateFrom->getIsoDate());            }            if ($this->dateTo !== null) {                $reader->filter->andEqualOrSmaller($reader->model->date, $this->dateTo->getIsoDate());            }            $reader->addOrder($reader->model->dateTime);            foreach ($reader->getData() as $measurementRow) {                $this->onMeasurementRow($measurementRow);                if ($n === 0) {                    if ($this->showTimeOnXAxes) {                        $this->addXAxisLabel($measurementRow->dateTime->getTimeLeadingZero());                    } else {                        $this->addXAxisLabel($measurementRow->date->getShortDateLeadingZeroFormat());                    }                }            }            $n++;        }        return parent::getContent();    }}