<?phpnamespace Nemundo\Meteo\Emagramm\Scheduler;use Nemundo\App\Scheduler\Job\AbstractScheduler;use Nemundo\Core\File\File;use Nemundo\Meteo\Emagramm\Content\Emagramm\EmagrammContent;use Nemundo\Meteo\Emagramm\Crawler\EmagrammImageCrawler;class EmagrammScheduler extends AbstractScheduler{    protected function loadScheduler()    {        $this->active = true;        $this->minute = 30;        $this->consoleScript = true;        $this->scriptName = 'emagramm-import';    }    public function run()    {        $crawler = new EmagrammImageCrawler();        foreach ($crawler->getData() as $crawlerItem) {            $type = new EmagrammContent();            $type->location = $crawlerItem->location;            $type->emagrammDateTime = $crawlerItem->dateTime;            if (!$type->existItem()) {                $filename = $crawlerItem->downloadEmagramm();                $type->filename = $filename;                $type->saveType();                (new File($filename))->deleteFile();            }        }    }}