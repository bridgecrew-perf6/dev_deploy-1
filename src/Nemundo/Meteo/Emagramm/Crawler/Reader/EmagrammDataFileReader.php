<?phpnamespace Meteo\Emagramm\Emagramm\Reader;use Nemundo\Core\Base\DataSource\AbstractDataSource;use Nemundo\Core\Csv\Reader\FixWidthCsvReader;class EmagrammDataFileReader extends AbstractDataSource{    /**     * @var string     */    public $filename;    protected function loadData()    {        //Pressure  Height  Temp   Dewpt   W-dir  W-speed        $csv = new FixWidthCsvReader();        $csv->filename = $this->filename;        $csv->lineOfStart = 7;        $csv->addSeperationPosition(6);        $csv->addSeperationPosition(14);        $csv->addSeperationPosition(22);        $csv->addSeperationPosition(30);        $csv->addSeperationPosition(37);        $csv->addSeperationPosition(45);        foreach ($csv->getData() as $line) {            $valid = true;            $temperatur = $line[2];            if ($temperatur == '9999.9') {                //$temperatur = null;                $valid = false;            }            if ($valid) {                $emagramm = new EmagrammData();                $emagramm->pressure = $line[0];                $emagramm->height = $line[1];                $emagramm->temperatur = $temperatur;                $emagramm->dewPoint = $line[3];                $emagramm->windDirection = $line[4];                $emagramm->windSpeed = $line[5];                $this->addItem($emagramm);                //Debug::write($line);            }        }    }    /**     * @return EmagrammData[]     */    public function getData()    {        return parent::getData();    }}