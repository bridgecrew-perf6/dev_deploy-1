<?phpnamespace Nemundo\Meteo\Emagramm\Content\Latest;use Nemundo\Db\Sql\Order\SortOrder;use Nemundo\Meteo\Emagramm\Data\Emagramm\EmagrammReader;use Nemundo\Package\Bootstrap\Image\BootstrapResponsiveImage;use Nemundo\Content\View\AbstractContentView;class EmagrammLatestContentView extends AbstractContentView{    /**     * @var EmagrammLatestContentType     */    public $contentType;    protected function loadView()    {        $this->viewName='default';        $this->viewId='6fc4974e-9de3-4560-b5d1-60c4f58d3114';        $this->defaultView=true;    }    public function getContent()    {        $locationId = $this->contentType->getDataRow()->locationId;        $reader = new EmagrammReader();        $reader->filter->andEqual($reader->model->locationId, $locationId);        $reader->addOrder($reader->model->id, SortOrder::DESCENDING);        $reader->limit = 1;        foreach ($reader->getData() as $emagrammRow) {            $img = new BootstrapResponsiveImage($this);            $img->src = $emagrammRow->image->getUrl();        }        return parent::getContent();    }}