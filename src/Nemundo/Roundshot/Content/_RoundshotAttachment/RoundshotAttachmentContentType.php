<?phpnamespace Nemundo\Roundshot\Content\RoundshotAttachment;use Nemundo\Content\Index\Tree\Type\AbstractTreeContentType;use Nemundo\Roundshot\Data\Roundshot\RoundshotRow;use Nemundo\Roundshot\Data\RoundshotAttachment\RoundshotAttachment;use Nemundo\Roundshot\Data\RoundshotAttachment\RoundshotAttachmentReader;use Nemundo\Roundshot\Data\RoundshotAttachment\RoundshotAttachmentUpdate;class RoundshotAttachmentContentType extends AbstractTreeContentType{    public $roundshotId;    protected function loadContentType()    {        $this->typeLabel = 'RoundshotAttachment';        $this->typeId = '50806efc-2400-4ddc-91c7-b9161eaef53a';        $this->formClassList[] = RoundshotAttachmentContentForm::class;        $this->viewClassList[]  = RoundshotAttachmentContentView::class;    }    protected function onCreate()    {        $data = new RoundshotAttachment();        $data->roundshotId = $this->roundshotId;        $this->dataId = $data->save();    }    protected function onUpdate()    {        $upate = new RoundshotAttachmentUpdate();        $upate->roundshotId = $this->roundshotId;        $upate->updateById($this->dataId);            }    protected function onDataRow()    {        $reader = new RoundshotAttachmentReader();        $reader->model->loadRoundshot();        $this->dataRow = $reader->getRowById($this->dataId)->roundshot;    }    /**     * @return RoundshotRow     */    public function getDataRow()    {        return parent::getDataRow();    }}