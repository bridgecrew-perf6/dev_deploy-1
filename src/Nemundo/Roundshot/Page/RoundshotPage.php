<?phpnamespace Nemundo\Roundshot\Page;use Nemundo\Admin\Com\Table\AdminClickableTable;use Nemundo\Admin\Com\Widget\AdminWidget;use Nemundo\Com\TableBuilder\TableHeader;use Nemundo\Com\Template\AbstractTemplateDocument;use Nemundo\Content\Index\Geo\Com\Container\GeoIndexContainer;use Nemundo\Content\Parameter\ContentParameter;use Nemundo\Package\Bootstrap\Layout\BootstrapTwoColumnLayout;use Nemundo\Package\Bootstrap\Pagination\BootstrapPagination;use Nemundo\Package\Bootstrap\Table\BootstrapClickableTableRow;use Nemundo\Roundshot\App\Timelapse\Content\TimelapseJob\TimelapseJobContentType;use Nemundo\Roundshot\Content\RoundshotKml\RoundshotKmlContentType;use Nemundo\Roundshot\Content\Webcam\RoundshotWebcamContentType;use Nemundo\Roundshot\Data\Roundshot\RoundshotPaginationReader;use Nemundo\Roundshot\Site\RoundshotSite;use Nemundo\Roundshot\Template\RoundshotTemplate;class RoundshotPage extends RoundshotTemplate // AbstractTemplateDocument{    public function getContent()    {        $table = new AdminClickableTable($this);        $roundshotReader = new RoundshotPaginationReader();        $roundshotReader->addOrder($roundshotReader->model->roundshot);        $header = new TableHeader($table);        $header->addText($roundshotReader->model->roundshot->label);        $header->addText($roundshotReader->model->geoCoordinate->altitude->label);        foreach ($roundshotReader->getData() as $roundshotRow) {            $row = new BootstrapClickableTableRow($table);            $row->addText($roundshotRow->roundshot);            $row->addText($roundshotRow->geoCoordinate->altitude);            //$contentType = new RoundshotWebcamContentType($roundshotRow->id);            //$row->addClickableSite($this->getContentRedirectSite($contentType->getContentId()));        }        $pagination = new BootstrapPagination($this);        $pagination->paginationReader = $roundshotReader;        /*        (new TimelapseJobContentType())->getDefaultForm($this);        (new RoundshotKmlContentType())->getDefaultView($this);        $layout=new BootstrapTwoColumnLayout($this);        $listing = (new RoundshotWebcamContentType())->getListing($layout->col1);        $listing->redirectSite = RoundshotSite::$site;        $contentParameter=new ContentParameter();        if ($contentParameter->exists()) {            $contentType = $contentParameter->getContent(false);            $widget=new AdminWidget($layout->col2);            $widget->widgetTitle=$contentType->getSubject();            $contentType->getDefaultView($widget);            $container=new GeoIndexContainer($layout->col2);            $container->contentType=$contentType;            $container->redirectSite = RoundshotSite::$site;        }*/        return parent::getContent();    }}