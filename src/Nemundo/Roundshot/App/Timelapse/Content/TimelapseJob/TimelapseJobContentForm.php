<?phpnamespace Nemundo\Roundshot\App\Timelapse\Content\TimelapseJob;use Nemundo\Content\App\Job\Index\JobIndexBuilder;use Nemundo\Content\Form\AbstractContentForm;use Nemundo\Package\Bootstrap\FormElement\BootstrapDatePicker;use Nemundo\Roundshot\App\Timelapse\Data\TimelapseJob\TimelapseJob;use Nemundo\Roundshot\Com\ListBox\RoundshotListBox;class TimelapseJobContentForm extends AbstractContentForm{    /**     * @var TimelapseJobContentType     */    public $contentType;    /**     * @var RoundshotListBox     */    private $roundshot;    /**     * @var BootstrapDatePicker     */    private $date;    public function getContent()    {        $this->roundshot = new RoundshotListBox($this);        $this->roundshot->validation = true;        $this->date = new BootstrapDatePicker($this);        $this->date->label = 'Date';        $this->date->validation = true;        return parent::getContent();    }    public function onSubmit()    {        $data = new TimelapseJob();        $data->roundshotId = $this->roundshot->getValue();        $data->date = $this->date->getDateValue();        $data->done = false;        $dataId = $data->save();        $type = new TimelapseJobContentType($dataId);        (new JobIndexBuilder($type))->buildIndex();        //$this->contentType->saveType();    }}